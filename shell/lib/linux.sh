#!/bin/bash

fn::os::type()
{
  local lsb_dist=''
  
  if command_exists lsb_release; then
      lsb_dist="$(lsb_release -si)"
  fi
  if [ -z "$lsb_dist" ] && [ -r /etc/lsb-release ]; then
      lsb_dist="$(. /etc/lsb-release && echo "$DISTRIB_ID")"
  fi
  if [ -z "$lsb_dist" ] && [ -r /etc/centos-release ]; then
      lsb_dist='centos'
  fi
  if [ -z "$lsb_dist" ] && [ -r /etc/redhat-release ]; then
      lsb_dist='redhat'
  fi
  if [ -z "$lsb_dist" ] && [ -r /etc/os-release ]; then
      lsb_dist="$(. /etc/os-release && echo "$ID")"
  fi

  lsb_dist="$(echo "$lsb_dist" | tr '[:upper:]' '[:lower:]')"
  echo ${lsb_dist}
}